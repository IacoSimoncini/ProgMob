<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"  
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"  
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"  
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:ViewModel="clr-namespace:ProgMob.ViewModel" 
             mc:Ignorable="d"               
             x:Class="ProgMob.Views.CalendaryPage">
    <ContentPage.Resources>
        <ResourceDictionary>
            <ViewModel:CalendaryVM x:Key="CalendaryViewModel"></ViewModel:CalendaryVM>

            
            <Color x:Key="NavigationPrimary">#3D9F88</Color>
            <Color x:Key="AccentColor">#FFC107</Color>
        </ResourceDictionary>
    </ContentPage.Resources>
    <ContentPage.Content>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <ScrollView Grid.Row="0">
                <StackLayout Orientation="Vertical">
                    <ListView BindingContext="{StaticResource CalendaryViewModel}" 
                            x:Name="CalendaryViewCard"
                            RowHeight="80" 
                            BackgroundColor="White"
                            ItemsSource="{Binding ListWeek}"
                            SelectedItem="{Binding SelectedWeek, Mode=TwoWay}"
                            IsPullToRefreshEnabled="true"
                            RefreshCommand="{Binding RefreshCommand}"
                            IsRefreshing="{Binding IsRefreshing}"
                            >
                        <ListView.Header>
                            <Grid BackgroundColor="Black">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <Label Text="LUN" 
                                           HorizontalOptions="Fill"  
                                           Grid.Column="0"  
                                           FontSize="Medium" 
                                           FontAttributes="Bold" 
                                           BackgroundColor="MediumBlue" 
                                           TextColor="White" 
                                           HorizontalTextAlignment="Center"
                                           Margin="1"/>
                                <Label Text="MAR"
                                           HorizontalOptions="Fill" 
                                           Grid.Column="1" 
                                           FontSize="Medium" 
                                           FontAttributes="Bold" 
                                           BackgroundColor="MediumBlue" 
                                           TextColor="White"
                                           HorizontalTextAlignment="Center"
                                           Margin="1"/>
                                <Label Text="MER"
                                           HorizontalOptions="Fill" 
                                           Grid.Column="2" 
                                           FontSize="Medium"
                                           FontAttributes="Bold"
                                           BackgroundColor="MediumBlue"
                                           TextColor="White"
                                           HorizontalTextAlignment="Center" 
                                           Margin="1"/>
                                <Label Text="GIO"
                                           HorizontalOptions="Fill"
                                           Grid.Column="3"
                                           FontSize="Medium" 
                                           FontAttributes="Bold"
                                           BackgroundColor="MediumBlue" 
                                           TextColor="White"
                                           HorizontalTextAlignment="Center"
                                           Margin="1"/>
                                <Label Text="VEN"
                                           HorizontalOptions="Fill"
                                           Grid.Column="4"
                                           FontSize="Medium" 
                                           FontAttributes="Bold"
                                           BackgroundColor="MediumBlue" 
                                           TextColor="White"
                                           HorizontalTextAlignment="Center"
                                           Margin="1"/>
                                <Label Text="SAB"
                                           HorizontalOptions="Fill"
                                           Grid.Column="5"
                                           FontSize="Medium" 
                                           FontAttributes="Bold"
                                           BackgroundColor="MediumBlue" 
                                           TextColor="White"
                                           HorizontalTextAlignment="Center"
                                           Margin="1"/>
                                <Label Text="DOM"
                                           HorizontalOptions="Fill"
                                           Grid.Column="6"
                                           FontSize="Medium" 
                                           FontAttributes="Bold"
                                           BackgroundColor="MediumBlue" 
                                           TextColor="White"
                                           HorizontalTextAlignment="Center"
                                           Margin="1"/>
                            </Grid>
                        </ListView.Header>
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Grid BackgroundColor="Black">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Column="0" 
                                                Text ="{Binding d1.n}"
                                                HorizontalOptions="FillAndExpand"
                                                BackgroundColor="LightBlue"
                                                HorizontalTextAlignment="Center"
                                                Margin="1"></Label>
                                        <Label Grid.Column="1"
                                                Text ="{Binding d2.n}"
                                                HorizontalOptions="FillAndExpand"
                                                BackgroundColor="LightBlue"
                                                HorizontalTextAlignment="Center"
                                                Margin="1"></Label>
                                        <Label Grid.Column="2"
                                                Text ="{Binding d3.n}"
                                                HorizontalOptions="FillAndExpand"
                                                BackgroundColor="LightBlue"
                                                HorizontalTextAlignment="Center"
                                                Margin="1"></Label>
                                        <Label Grid.Column="3"
                                                Text ="{Binding d4.n}" 
                                                HorizontalOptions="FillAndExpand" 
                                                BackgroundColor="LightBlue"
                                                HorizontalTextAlignment="Center"
                                                Margin="1"></Label>
                                        <Label Grid.Column="4"
                                                Text ="{Binding d5.n}"
                                                HorizontalOptions="FillAndExpand"
                                                BackgroundColor="LightBlue"
                                                HorizontalTextAlignment="Center"
                                                Margin="1"></Label>
                                        <Label Grid.Column="5"
                                                Text ="{Binding d6.n}"
                                                HorizontalOptions="FillAndExpand"
                                                BackgroundColor="LightBlue"
                                                HorizontalTextAlignment="Center"
                                                Margin="1"></Label>
                                        <Label Grid.Column="6"
                                                Text ="{Binding d7.n}"
                                                HorizontalOptions="FillAndExpand"
                                                BackgroundColor="LightBlue"
                                                HorizontalTextAlignment="Center"
                                                Margin="1"></Label> 
                                    </Grid>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackLayout>
            </ScrollView>
        </Grid>
    </ContentPage.Content>
</ContentPage> 